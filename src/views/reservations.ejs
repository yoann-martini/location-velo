<% include partials/_header %>

<div class="mt-5">
  <div class="row">
    <div class="col-md-9">
      <table class="table table-bordered table-hover">
        <thead>
          <tr>
            <td>n°</td>
            <td>Locataire</td>
            <td>Véhicule Loué</td>
			<td>Date de Début</td>
			<td>Date de Fin</td>
			<td>Caution</td>
			<td>Prix Total</td>
			<td>Date Rendu</td>
            <td>Actions</td>
          </tr>
        </thead>
        <tbody>
          <% if (data) { %>
            <% for(var i = 0; i < data.length; i++) { %>
              <tr>
                <td><%= (i + 1) %></td>
                <td><%= data[i].locataire %></td>
                <td><%= data[i].vehiculeLoue %></td>
				<td><%= data[i].dateDebut %></td>
                <td><%= data[i].dateFin %></td>
                <td><%= data[i].caution %></td>
				<td><%= data[i].prixTotal %></td>
                <td><%= data[i].dateRendu %></td>

                <td>
                  <a href="reservation/update/<%= data[i].id %>" class="btn btn-info">Modifier</a>
                  <a href="reservation/delete/<%= data[i].id %>" class="btn btn-danger">Supprimer</a>
                </td>
              </tr>
            <% } %>
          <% } %>
        </tbody>
      </table>
    </div>
    <div class="col-md-3">
      <div class="card-body">
		<% if (messages.error) { %>
	  <p style="color:red"><%- messages.error %></p>
	<% } %>
	  
	<% if (messages.success) { %>
		<p style="color:green"><%- messages.success %></p>
	<% } %>
        <form action="reservation/add" method="POST">
          <div class="form-group">
            <input type="number" name="locataire" placeholder="Locataire" class="form-control" autofocus required>
          </div>
          <div class="form-group">
            <input type="number" name="vehiculeLoue" placeholder="Véhicule Loué" class="form-control">
          </div>
		  <div class="form-group">
            <input type="date" name="dateDebut" placeholder="Date de Début" class="form-control" autofocus required>
          </div>
          <div class="form-group">
            <input type="date" name="dateFin" placeholder="Date de Fin" class="form-control">
          </div>
          <div class="form-group">
            <input type="number" name="caution" placeholder="Caution" class="form-control">
          </div>
          <div class="form-group">
            <input type="number" name="prixTotal" placeholder="Prix Total" class="form-control">
          </div>
		  <div class="form-group">
            <input type="date" name="dateRendu" placeholder="Date Rendu" class="form-control" autofocus>
          </div>

          <button type="submit" class="btn btn-primary btn-rounded">
            Enregistrer
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<% include partials/_footer %>
